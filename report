
> actionhero@7.6.1 test /var/local/dev/actionhero
> fakeredis=true NODE_ENV=test mocha && fakeredis=false NODE_ENV=test mocha


  [31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m[31mâ€¤[0m



[92m [0m[32m 0 passing[0m[90m (3s)[0m
[31m  27 failing[0m

[0m  1) Setup "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/aaa_setup/setup.js:11:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  2) Action: Cache Test "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/actions/cacheTest.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  3) Action: Random Number "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/actions/randomNumber.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  4) Action: Status "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/actions/status.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  5) Core: Action Cluster general actionCluster Start cluster server #1:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:82:19)
      at Test.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at Runner.runTest (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:378:10)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:456:12
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:303:14)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:313:7
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:251:23)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  6) Core: Action Cluster general actionCluster Start cluster server #2:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:91:19)
      at Test.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at Runner.runTest (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:378:10)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:456:12
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:303:14)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:313:7
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:251:23)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  7) Core: Action Cluster general actionCluster Start cluster server #3:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:100:19)
      at Test.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at Runner.runTest (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:378:10)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:456:12
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:303:14)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:313:7
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:251:23)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  8) Core: Action Cluster say and clients on separate peers "before all" hook:
[0m[31m     TypeError: Cannot read property 'specHelper' of undefined[0m[90m
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:115:26)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  9) Core: Action Cluster say and clients on separate peers "after all" hook:
[0m[31m     TypeError: Cannot call method 'destroy' of undefined[0m[90m
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:129:15)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  10) Core: Action Cluster shared cache peer 1 writes and peer 2 should read:
[0m[31m     TypeError: Cannot read property 'cache' of undefined[0m[90m
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:183:12)
      at Test.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at Runner.runTest (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:378:10)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:456:12
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:303:14)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:313:7
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:251:23)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  11) Core: Action Cluster shared cache peer 3 deletes and peer 1 cannot read any more:
[0m[31m     TypeError: Cannot read property 'cache' of undefined[0m[90m
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/actionCluster.js:192:12)
      at Test.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at Runner.runTest (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:378:10)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:456:12
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:303:14)
      at /var/local/dev/actionhero/node_modules/mocha/lib/runner.js:313:7
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:251:23)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  12) Core: API "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/api.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  13) Core: Cache "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/cache.js:10:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  14) Core: Developer Mode "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/developerMode.js:25:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  15) Core: Exceptions "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/exceptions.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  16) Core: Middleware "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/middleware.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  17) Core: specHelper "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/specHelper.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  18) Core: Static File "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/staticFile.js:9:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  19) Core: Stats "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/stats.js:13:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  20) Core: Tasks "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/tasks.js:12:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  21) Core: Tasks "after all" hook:
[0m[31m     TypeError: Cannot read property 'tasks' of undefined[0m[90m
      at Context.<anonymous> (/var/local/dev/actionhero/test/core/tasks.js:49:15)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  22) Server: Socket "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/servers/socket.js:40:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  23) Server: Socket "after all" hook:
[0m[31m     TypeError: Object #<Object> has no method 'write'[0m[90m
      at Context.<anonymous> (/var/local/dev/actionhero/test/servers/socket.js:60:12)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  24) Server: Web "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/servers/web.js:11:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  25) Server: Web Socket "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/servers/websocket.js:16:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  26) Utils "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/utils/utils.js:13:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m
[0m  27) Benchmarks "before all" hook:
[0m[31m     TypeError: Cannot read property 'general' of undefined[0m[90m
      at start (/var/local/dev/actionhero/actionhero.js:240:23)
      at /var/local/dev/actionhero/actionhero.js:281:7
      at Object.that.prepArray._complete (/var/local/dev/actionhero/actionhero.js:193:7)
      at /var/local/dev/actionhero/node_modules/async/lib/async.js:561:25
      at iterate (/var/local/dev/actionhero/node_modules/async/lib/async.js:131:13)
      at Object.async.eachSeries (/var/local/dev/actionhero/node_modules/async/lib/async.js:147:9)
      at Object.async.series (/var/local/dev/actionhero/node_modules/async/lib/async.js:560:19)
      at Initializers.initialize (/var/local/dev/actionhero/actionhero.js:195:11)
      at actionhero.initialize (/var/local/dev/actionhero/actionhero.js:203:16)
      at actionhero.start (/var/local/dev/actionhero/actionhero.js:280:10)
      at Context.<anonymous> (/var/local/dev/actionhero/test/zzz_benchmarks/benchmarks.js:34:16)
      at Hook.Runnable.run (/var/local/dev/actionhero/node_modules/mocha/lib/runnable.js:204:15)
      at next (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:263:10)
      at Object._onImmediate (/var/local/dev/actionhero/node_modules/mocha/lib/runner.js:280:5)
      at processImmediate [as _immediateCallback] (timers.js:330:15)
[0m


npm ERR! weird error 27
npm ERR! not ok code 0
